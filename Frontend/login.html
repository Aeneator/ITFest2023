<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Login Page</title>
    <link rel="stylesheet" href="style.css" />
  </head>

  <body>
    <div class="account-page">
      <div class="container">
        <div class="row">
          <div class="col-2">
            <div class="form-container">
              <div class="form-btn">
                <span onclick="login()">Login</span>
                <span onclick="register()">Register</span>
                <hr id="Indicator" />
              </div>
              <form id="LoginForm">
                <input type="text" placeholder="Email:" id="emailLogin" />
                <input type="password" placeholder="Parola:" id="parolaLogin" />
                <button type="submit" class="btn">Login</button>
                <a href="">Am uitat parola</a>
              </form>
              <form id="RegisterForm">
                <input
                  type="text"
                  placeholder="Username:"
                  id="usernameRegister"
                />
                <input type="text" placeholder="Email:" id="emailRegister" />
                <input
                  type="password"
                  placeholder="Parola:"
                  id="parolaRegister"
                />
                <button type="button" class="btn" onclick="savePlaceholders()">
                  Register
                </button>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!------toggle login/register----->
    <script>
      var LoginForm = document.getElementById("LoginForm");
      var RegisterForm = document.getElementById("RegisterForm");
      var Indicator = document.getElementById("Indicator");

      function register() {
        RegisterForm.style.transform = "translateX(0px)";
        LoginForm.style.transform = "translateX(0px)";
        Indicator.style.transform = "translateX(33px)";
      }
      function login() {
        RegisterForm.style.transform = "translateX(400px)";
        LoginForm.style.transform = "translateX(400px)";
        Indicator.style.transform = "translateX(-36px)";
      }
      function savePlaceholders() {
        // Get the values of the placeholders
        var usernamePlaceholder =
          document.getElementById("usernameRegister").value;
        var emailPlaceholder = document.getElementById("emailRegister").value;
        var parolaPlaceholder = document.getElementById("parolaRegister").value;

        // You can store these values in variables or an object, as needed
        var placeholders = {
          username: usernamePlaceholder,
          email: emailPlaceholder,
          parola: parolaPlaceholder,
        };
        var placeholdersJSON = JSON.stringify(placeholders);
        const sendRequest = async () => {
          console.log("In functie");
          try {
            const response = await fetch("http://localhost:3000/api/users", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: placeholdersJSON,
            });
            if (!response.ok) {
              throw new Error(`HTTP error! Status: ${response.status}`);
            }
            const userData = await response.json();
            console.log(userData);
          } catch (err) {
            console.error("Fetch Error:", err.message);
          }
        };
        sendRequest();
      }
    </script>
  </body>
</html>
